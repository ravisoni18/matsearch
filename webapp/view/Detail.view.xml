<mvc:View
    controllerName="knmtapp.controller.Detail"
    xmlns="sap.m"
      xmlns:m="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:form="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:uxap="sap.uxap">
    
    <uxap:ObjectPageLayout id="objectPageLayout"
                           showTitleInHeaderContent="true"
                           upperCaseAnchorBar="false"
                           enableLazyLoading="false">
        
        <!-- Header Title -->
        <uxap:headerTitle>
            
            <uxap:ObjectPageDynamicHeaderTitle>
                
               	<uxap:expandedHeading>
					 <HBox class="sapUiSmallMarginEnd">
                    <Label text="Request Status" class="sapUiSmallMarginEnd"/>
                    <ObjectStatus 
                        text="{detailData>/statusText}" 
                        state="{path: 'detailData>/status', formatter: '.formatStatus'}"
                        icon="sap-icon://status-in-process"/>
                </HBox>
				</uxap:expandedHeading>

				<uxap:snappedHeading>
					<m:FlexBox  fitContainer="true" alignItems="Center">
						 <HBox class="sapUiSmallMarginEnd">
                    <Label text="Request Status" class="sapUiSmallMarginEnd"/>
                    <ObjectStatus 
                        text="{detailData>/statusText}" 
                        state="{path: 'detailData>/status', formatter: '.formatStatus'}"
                        icon="sap-icon://status-in-process"/>
                </HBox>
					</m:FlexBox>
				</uxap:snappedHeading>
                <uxap:actions>
                    
                    <Button 
                        text="{= ${detailData>/editMode} ? 'Save' : 'Edit'}" 
                        type="Emphasized" 
                        visible="{= ${detailData>/trtyp} ==='L' ? false :  ${detailData>/status} ==='A'? false : true }"
                        icon="{= ${detailData>/editMode} ? 'sap-icon://save' : 'sap-icon://edit'}" 
                        press="onToggleEdit"/>
                    <Button 
                        text="{= ${detailData>/trtyp} ==='L' ? 'Deleted' : 'Delete' }" 
                        visible="{= ${detailData>/trtyp} ==='L' ? false :  ${detailData>/status} ==='A'? false : true }"
                        icon="sap-icon://delete" 
                        type="Reject"
                        press="onDelete"
                        
                        />
                                                <!-- visible="{= !${detailData>/editMode}}" -->

                    <Button 
                        text="Cancel" 
                        icon="sap-icon://decline" 
                        press="onCancel"/>
                </uxap:actions>
            </uxap:ObjectPageDynamicHeaderTitle>
        </uxap:headerTitle>

        <!-- Header Content -->
        <uxap:headerContent>
            <HBox wrap="Wrap" visible="false">
                  <VBox class="sapUiSmallMarginEnd">
                    <Label text="Request Status"/>
                    <ObjectStatus 
                        text="{detailData>/statusText}" 
                        state="{path: 'detailData>/status', formatter: '.formatStatus'}"
                        icon="sap-icon://status-in-process"/>
                </VBox>
                <!-- <VBox class="sapUiSmallMarginEnd" >
                    <Label text="Customer Number"/>
                    <ObjectIdentifier
                        title="{detailData>/kunnr}"
                        text="Customer"/>
                </VBox>
                <VBox class="sapUiSmallMarginEnd" >
                    <Label text="Material Number"/>
                    <ObjectIdentifier
                        title="{detailData>/kdmat}"
                        text="Material"/>
                </VBox>
                <VBox class="sapUiSmallMarginEnd">
                    <Label text="Customer Material Request Status"/>
                    <ObjectStatus 
                        text="{detailData>/statusText}" 
                        state="{path: 'detailData>/status', formatter: '.formatStatus'}"
                        icon="sap-icon://status-in-process"/>
                </VBox>
                <VBox class="sapUiSmallMarginEnd">
                    <Label text="Created By"/>
                    <Text text="{detailData>/ernam}"/>
                </VBox>
                <VBox class="sapUiSmallMarginEnd">
                    <Label text="Last Changed By"/>
                    <Text text="{detailData>/last_changed_by_user}"/>
                </VBox> -->
            </HBox>
        </uxap:headerContent>

        <!-- Sections -->
        <uxap:sections>
            
            <!-- Customer & Organization Section -->
            <uxap:ObjectPageSection title="Basic Information" titleUppercase="false">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <uxap:blocks>
                            <form:Form editable="{detailData>/editMode}">
                                <form:layout>
                                    <form:ResponsiveGridLayout
                                        labelSpanXL="2"
                                        labelSpanL="2"
                                        labelSpanM="2"
                                        labelSpanS="12"
                                        adjustLabelSpan="false"
                                        emptySpanXL="0"
                                        emptySpanL="0"
                                        emptySpanM="0"
                                        emptySpanS="0"
                                        columnsXL="3"
                                        columnsL="3"
                                        columnsM="1"
                                        singleContainerFullSize="true"/>
                                </form:layout>
                                <form:formContainers>
                                    <form:FormContainer visible="true">
                                        <form:formElements>
                                       
                                                 <form:FormElement >
                                                <form:fields>
                                                    <Label text="CIC:" class="sapUiSmallMarginTop" textAlign="Right" ></Label>

                                                    <Input 
                                                        value="{detailData>/kdmat}"
                                                        editable="false">
                                                        <layoutData>
                                                            <FlexItemData growFactor="1"/>
                                                        </layoutData>
                                                    </Input>
                                                </form:fields>
                                            </form:FormElement>
                                         
                                              <form:FormElement >
                                                <form:fields>
                                                    <Label text="Description:" class="sapUiSmallMarginTop" textAlign="Right"></Label>

                                                    <TextArea 
                                                        value="{detailData>/postx}"
                                                        rows="2"
                                                        maxLength="200"
                                                        editable="{detailData>/editMode}">
                                                        <layoutData>
                                                            <FlexItemData growFactor="1"/>
                                                        </layoutData>
                                                    </TextArea>
                                                </form:fields>
                                            </form:FormElement>

                                        
                                        </form:formElements>
                                    </form:FormContainer>
                                    
                                    <form:FormContainer>
                                        <form:formElements>
                                           
                                            
                                         


                                            <form:FormElement >
                                                <form:fields>
                                                    <Label text="BDR Sub" class="sapUiSmallMarginTop" textAlign="Right"></Label>
                                                    <Input 
                                                        id="locationInput"
                                                        value="{detailData>/zzloc}"
                                                        editable="{detailData>/editMode}"
                                                        showValueHelp="{detailData>/editMode}"
                                                        valueHelpRequest="onLocationValueHelp"
                                                        showSuggestion="true"
                                                        suggest="onLocationSuggest"
                                                        suggestionItemSelected="onLocationSelected">
                                                        <layoutData>
                                                            <FlexItemData growFactor="1"/>
                                                        </layoutData>
                                                    </Input>
                                                </form:fields>
                                            </form:FormElement>

                                               <form:FormElement >
                                                <form:fields>
                                                    <Label text="Department:" class="sapUiSmallMarginTop" textAlign="Right"></Label>
                                                    <Input 
                                                        id="departmentInput"
                                                        value="{detailData>/zzdepartment}"
                                                        editable="{detailData>/editMode}"
                                                        showValueHelp="{detailData>/editMode}"
                                                        valueHelpRequest="onDepartmentValueHelp"
                                                        showSuggestion="true"
                                                        suggest="onDepartmentSuggest"
                                                        suggestionItemSelected="onDepartmentSelected">
                                                        <layoutData>
                                                            <FlexItemData growFactor="1"/>
                                                        </layoutData>
                                                    </Input>
                                                </form:fields>
                                            </form:FormElement>



                                            


                                        </form:formElements>
                                    </form:FormContainer>











                                     <form:FormContainer visible="true">
                                        <form:formElements>
                                            <!-- <form:FormElement >
                                                <form:fields>
                                              <Label text="Request Status: " class="sapUiSmallMarginTop" textAlign="Right"></Label>

                                                  <Input editable="true"
                        value="{detailData>/statusText}" 
                        valueState="{path: 'detailData>/status', formatter: '.formatStatus'}"  
                        icon="sap-icon://status-in-process"/>
                                                </form:fields>
                                            </form:FormElement> -->
                                            
                                            <form:FormElement >
                                                <form:fields>
                                                     <Label text="Created By: " class="sapUiSmallMarginTop" textAlign="Right" ></Label>
                                                    <Input value="{detailData>/ernam}" editable="false" />
                                                </form:fields>
                                            </form:FormElement>
                                             

                                             <form:FormElement >
                                                <form:fields>
                                                   <Label text="Created On : " class="sapUiSmallMarginTop" textAlign="Right"/>
                                                     <Input value="{path: 'detailData>/createdatetime', formatter: '.formatDate'}"  editable="false"/>
                                                </form:fields>
                                            </form:FormElement>


                                             <form:FormElement >
                                                <form:fields>
                                                   <Label text="Last Changed on: " class="sapUiSmallMarginTop" textAlign="Right"/>
                                                     <Input value="{path: 'detailData>/locallastchangedat', formatter: '.formatDate'}" editable="false"/>
                                                </form:fields>
                                            </form:FormElement>
                                        </form:formElements>
                                    </form:FormContainer>






                                </form:formContainers>
                            </form:Form>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>

            <!-- Material Information Section -->
            <uxap:ObjectPageSection title="Additional Information" titleUppercase="false">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <uxap:blocks>
                            <form:Form editable="{detailData>/editMode}">
                                <form:layout>
                                    <form:ResponsiveGridLayout
                                        labelSpanXL="4"
                                        labelSpanL="4"
                                        labelSpanM="4"
                                        labelSpanS="12"
                                        adjustLabelSpan="false"
                                        emptySpanXL="0"
                                        emptySpanL="0"
                                        emptySpanM="0"
                                        emptySpanS="0"
                                        columnsXL="3"
                                        columnsL="3"
                                        columnsM="1"
                                        singleContainerFullSize="false"/>
                                </form:layout>
                                <form:formContainers>
                                    <form:FormContainer >
                                        <form:formElements>
                                        
                                            
                                          
                                            
                                            <form:FormElement >
                                                <form:fields>
                                                     <Label text="Usage:" class="sapUiSmallMarginTop" textAlign="Right"></Label>

                                                    <!-- <Input 
                                                        id="materialUsageInput"
                                                        value="{detailData>/zzmaterialusage}"
                                                        editable="{detailData>/editMode}"
                                                        showValueHelp="{detailData>/editMode}"
                                                        valueHelpRequest="onMaterialUsageValueHelp"
                                                        showSuggestion="true"
                                                        suggest="onMaterialUsageSuggest"
                                                        suggestionItemSelected="onMaterialUsageSelected">
                                                        <layoutData>
                                                            <FlexItemData growFactor="1"/>
                                                        </layoutData>
                                                    </Input> -->
                                                    <Select selectedKey="{detailData>/zzmaterialusage}"   editable="{detailData>/editMode}">
                                        <items>
                                            <core:Item key="A" text="Material"/>
                                            <core:Item key="B" text="Resale"/>
                                           

                                        </items>
                                    </Select>
                                                </form:fields>
                                            </form:FormElement>


                                            <form:FormElement label="Transaction Type" visible="false">
    <form:fields>


        <Input 
            id="transactionTypeInput"
            value="{detailData>/trtyp}"
            editable="{detailData>/editMode}"
            showValueHelp="{detailData>/editMode}"
            valueHelpRequest="onTransactionTypeValueHelp"
            showSuggestion="true"
            suggest="onTransactionTypeSuggest"
            suggestionItemSelected="onTransactionTypeSelected">
            <layoutData>
                <FlexItemData growFactor="1"/>
            </layoutData>
        </Input>
    </form:fields>
</form:FormElement>
                                            
                                            <form:FormElement >
                                                <form:fields>

                                                   <Label text="UPC:" class="sapUiSmallMarginTop" textAlign="Right"></Label>

                                                    <Input 
                                                        value="{detailData>/zzean11}"
                                                        editable="{detailData>/editMode}">
                                                        <layoutData>
                                                            <FlexItemData growFactor="1"/>
                                                        </layoutData>
                                                    </Input>
                                                </form:fields>
                                            </form:FormElement>

                                              <form:FormElement >
                                                <form:fields>
                                                     <Label text="Pack Quantity:" class="sapUiSmallMarginTop" textAlign="Right"></Label>

                                                    <StepInput 
                                                    textAlign="Left"
                                                        value="{detailData>/zzpack}"
                                                        min="0"
                                                        max="9999"
                                                        step="1"
                                                        width="100%"
                                                        editable="{detailData>/editMode}">
                                                        <layoutData>
                                                            <FlexItemData growFactor="1"/>
                                                        </layoutData>
                                                    </StepInput>
                                                </form:fields>
                                            </form:FormElement>

                                             <form:FormElement >
                                                <form:fields>

                                                    <Label text="BDR Sub Description:" class="sapUiSmallMarginTop" textAlign="Right"></Label>

                                                    <Input 
                                                        value="{detailData>/zzbdrsub}"
                                                        editable="false"
                                                        maxLength="100"
                                                        >
                                                        <layoutData>
                                                            <FlexItemData growFactor="1"/>
                                                        </layoutData>
                                                    </Input>
                                                </form:fields>
                                            </form:FormElement>
                                        </form:formElements>
                                    </form:FormContainer>
                                    
                                    <form:FormContainer >
                                        <form:formElements>
                                          
                                            
                                            <form:FormElement >
                                                <form:fields>
                                                      <Label text="UOM:" class="sapUiSmallMarginTop" textAlign="Right"></Label>

                                                    <!-- <Input 
                                                        value="{detailData>/zzuom}"
                                                        editable="{detailData>/editMode}">
                                                        <layoutData>
                                                            <FlexItemData growFactor="1"/>
                                                        </layoutData>
                                                    </Input> -->



                                                     <Select selectedKey="{detailData>/zzuom}"  editable="{detailData>/editMode}">
                                        <items>
                                            <core:Item key="CS" text="Case"/>
                                            <core:Item key="EA" text="Each"/>
                                            <core:Item key="PAL" text="Pallet"/>
                                            <core:Item key="OZ" text="Ounce"/>
                                            <core:Item key="GAL" text="Gallon"/>
                                            <core:Item key="LB" text="Box"/>
                                            <core:Item key="CT" text="Carton"/>
                                            <core:Item key="QT" text="Quartz"/>

                                        </items>
                                    </Select>



                                                </form:fields>
                                            </form:FormElement>
                                            
                                            <form:FormElement >
                                                <form:fields>
                                                      <Label text="Pack Warehouse:" class="sapUiSmallMarginTop" textAlign="Right"></Label>

                                                    <StepInput 
                                                    textAlign="Left"
                                                        value="{detailData>/zzpack_whse}"
                                                        min="0"
                                                        max="9999"
                                                        step="1"
                                                        width="100%"
                                                        editable="{detailData>/editMode}">
                                                        <layoutData>
                                                            <FlexItemData growFactor="1"/>
                                                        </layoutData>
                                                    </StepInput>
                                                </form:fields>
                                            </form:FormElement>
                                            
                                            <form:FormElement >
                                                <form:fields>
                                                    <Label text="Size:" class="sapUiSmallMarginTop" textAlign="Right"></Label>

                                                    <!-- <Input 
                                                        value="{detailData>/zzsize}"
                                                        editable="{detailData>/editMode}">
                                                        <layoutData>
                                                            <FlexItemData growFactor="1"/>
                                                        </layoutData>
                                                    </Input> -->

                                                      <Select selectedKey="{detailData>/zzsize}"  editable="{detailData>/editMode}">
                                        <items>
                                            <core:Item key="CS" text="Case"/>
                                            <core:Item key="EA" text="Each"/>
                                            <core:Item key="PAL" text="Pallet"/>
                                            <core:Item key="OZ" text="Ounce"/>
                                            <core:Item key="GAL" text="Gallon"/>
                                            <core:Item key="LB" text="Box"/>
                                            <core:Item key="CT" text="Carton"/>
                                            <core:Item key="QT" text="Quartz"/>

                                        </items>
                                    </Select>
                                                </form:fields>
                                            </form:FormElement>
                                        </form:formElements>
                                    </form:FormContainer>
                                </form:formContainers>
                            </form:Form>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>

            <!-- Additional Information Section -->
            <uxap:ObjectPageSection title="Additional Information" visible="false">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <uxap:blocks>
                            <form:Form editable="{detailData>/editMode}">
                                <form:layout>
                                    <form:ResponsiveGridLayout
                                        labelSpanXL="4"
                                        labelSpanL="4"
                                        labelSpanM="4"
                                        labelSpanS="4"
                                        adjustLabelSpan="false"
                                        emptySpanXL="0"
                                        emptySpanL="0"
                                        emptySpanM="0"
                                        emptySpanS="0"
                                        columnsXL="1"
                                        columnsL="1"
                                        columnsM="1"
                                        singleContainerFullSize="false"/>
                                </form:layout>
                                <form:formContainers >
                                    <form:FormContainer visible="true">
                                        <form:formElements>
                                            <form:FormElement >
                                                <form:fields>

                                                    <Label text="BDR Sub Description:" class="sapUiSmallMarginTop" textAlign="Right"></Label>

                                                    <Input 
                                                        value="{detailData>/zzbdrsub}"
                                                        editable="false"
                                                        maxLength="100"
                                                        >
                                                        <layoutData>
                                                            <FlexItemData growFactor="1"/>
                                                        </layoutData>
                                                    </Input>
                                                </form:fields>
                                            </form:FormElement>
                                        </form:formElements>
                                    </form:FormContainer>
                                </form:formContainers>
                            </form:Form>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>

        </uxap:sections>

        <!-- Footer (only visible in edit mode) -->
        <uxap:footer>
            <OverflowToolbar visible="{detailData>/editMode}">
                <ToolbarSpacer/>
                <Button text="Save Changes" type="Emphasized" icon="sap-icon://save" press="onSave"/>
                <Button text="Cancel" icon="sap-icon://decline" press="onCancelEdit"/>
            </OverflowToolbar>
        </uxap:footer>
        
    </uxap:ObjectPageLayout>
    
</mvc:View>